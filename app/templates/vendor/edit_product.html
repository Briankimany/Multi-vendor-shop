{% extends "vendor/base2.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/vendor/edit_product.css') }}">
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/vendor/edit_product.js') }}"></script>
{% endblock %}

{% block content %}
<div class="edit-product-container">
    <h1>Edit Product: {{ product.name }}</h1>
    <div hidden data-product-id="{{ product.id }}"></div>


    <div class="edit-form-wrapper">
        <form id="productForm" class="edit-product-form" enctype="multipart/form-data">
       
            <!-- Product Name -->
            <div class="form-group">
                <label for="name">Product Name</label>
                <input type="text" id="name" name="name" value="{{ product.name }}" required>
            </div>

            <!-- Description -->
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description">{{ product.description }}</textarea>
            </div>

            <!-- Price -->
            <div class="form-group">
                <label for="price">Price (Ksh)</label>
                <input type="number" id="price" name="price" step="1" value="{{ product.price }}" required>
            </div>

            <!-- Stock -->
            <div class="form-group">
                <label for="stock">Stock</label>
                <input type="number" id="stock" name="stock" value="{{ product.stock }}" required>
            </div>

            <!-- Category -->
            <div class="form-group">
                <label for="category">Category</label>
                <input type="text" id="category" name="category" value="{{ product.category }}">
            </div>

            <!-- Image URL Field -->
            <div class="form-group">
                <label for="image_url">Image URL</label>
                <input type="text" id="image_url" name="image_url" value="{{ product.image_url }}">
            </div>

            <!-- Image Upload -->
            <div class="form-group">
                <label for="image_upload">Or Upload Image:</label>
                <input type="file" id="image_upload" name="image_upload" accept="image/*">
            </div>
            
            <!-- Image Preview -->
            <div id="image_preview" class="image-preview">
                {% if product.image_url %}
                <img src="{{ product.image_url }}" alt="Current product image">
                {% endif %}
            </div>

            <!-- Submit Button -->
            <button type="button" id="submitBtn" class="update-button">Update Product</button>
        </form>
    </div>
</div>
{% endblock %}